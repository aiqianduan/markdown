### 输入url网址到页面渲染流程

1. DNS解析: 将域名地址解析为ip地址
   - 浏览器DNS缓存
   - 系统DNS缓存
   - 路由器DNS缓存
   - 网络运营商DNS缓存(移动,电信,联通...)
   - 递归搜索:例如blog.baidu.com
     - .com域名下查找DNS解析
     - .baidu
     - .blog
     - 解析失败
2.  TCP连接: TCP三次握手
   - 第一次握手,由浏览器发起,告诉浏览器我要发送请求了
   - 第二次握手,由服务器发起,告诉浏览器我准备接收了,赶紧发送
   - 第三次握手,由浏览器发起,告诉服务器,马上就发了,准备接收吧

3. 发送请求

   - 请求报文: http协议的通信内容

4. 接收响应

   - 响应报文

5. 渲染页面

   - 遇见html标记,浏览器调用html解析器解析成Token标记,并构建成DOM树
   - 遇见style/link标记,浏览器调用css解析器,处理css标记并构建cssom树
   - 遇见script标记,调用javascript解析器,处理scipt代码(绑定事件,修改dom树/cssom树)
   - 将dom树和cssom树合并成一个渲染树
   - 根据渲染树来计算布局,计算每个节点的几何信息(布局)
   - 将各个节点的颜色绘制到屏幕上(渲染)

   注意:(这5个步骤不一定按照顺序执行,如果dom树或cssom树被修改了,可能会执行多次布局和渲染)

6. 断开连接: TCP四次挥手

   - 第一次挥手: 由浏览器发起的,发送给服务器,请求报文发送完了,准备关闭吧
   - 第二次挥手:由服务器发起的,告诉浏览器,我东西接收完了(请求报文),我准备关闭了,你也准备吧
   - 第三次挥手:由服务器发起,告诉浏览器,东西发送完了(响应报文),准备关闭吧
   - 第四次挥手:由浏览器发起,告诉服务器,东西接收完了,我准备关闭了(响应报文),你准备关闭吧